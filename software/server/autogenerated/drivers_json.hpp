/// Autogenerated DO NOT EDIT
///
/// (c) Koheron

#ifndef __DRIVERS_JSON_HPP__
#define __DRIVERS_JSON_HPP__

#include <array>
#include <sstream>
#include <string>
#include <typeinfo>
#include <cxxabi.h>

#include "././drivers/common.hpp"
#include "././drivers/fifo_controller.hpp"
#include "././drivers/dma-sg_controller.hpp"
#include "././drivers/adc_qspi_controller.hpp"
#include "././device_driver.hpp"


// http://stackoverflow.com/questions/4484982/how-to-convert-typename-t-to-string-in-c
template<typename T>
inline auto get_type_str()
{
    std::string res;
    char *name = nullptr;
    int status;
    name = abi::__cxa_demangle(typeid(T).name(), nullptr, nullptr, &status);

    if (name != nullptr) {
        res = std::string(name);
    }
    else {
        res = std::string(typeid(T).name());
    }

    free(name);
    return res;
}

inline auto build_drivers_json()
{
    std::stringstream ss;
    ss << "[{\"functions\":[{\"ret_type\":\"const char *\",\"args\":[],\"name\":\"get_version\",\"id\":0},{\"ret_type\":\"std::string\",\"args\":[],\"name\":\"get_cmds\",\"id\":1}],\"class\":\"KServer\",\"id\":1},{\"functions\":[{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"value\"}],\"name\":\"set_led\",\"id\":0},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"get_led\",\"id\":1},{\"ret_type\":\"void\",\"args\":[],\"name\":\"init\",\"id\":2},{\"ret_type\":\"std::string\",\"args\":[],\"name\":\"get_instrument_config\",\"id\":3},{\"ret_type\":\"void\",\"args\":[],\"name\":\"ip_on_leds\",\"id\":4}],\"class\":\"Common\",\"id\":2},{\"functions\":[{\"ret_type\":\"void\",\"args\":[{\"type\":\"std::string\",\"name\":\"sAddress\"},{\"type\":\"std::string\",\"name\":\"sPort\"}],\"name\":\"set_server_info\",\"id\":0},{\"ret_type\":\"void\",\"args\":[],\"name\":\"fifo_reset_tx\",\"id\":1},{\"ret_type\":\"void\",\"args\":[],\"name\":\"fifo_reset_rx\",\"id\":2},{\"ret_type\":\"void\",\"args\":[{\"type\":\"int32_t\",\"name\":\"val\"}],\"name\":\"fifo_write_tx\",\"id\":3},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"fifo_read_rx\",\"id\":4},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"fifo_vacancy_tx\",\"id\":5},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"fifo_vacancy_rx\",\"id\":6},{\"ret_type\":\"" << get_type_str<decltype(std::declval<SSFifoController>().get_vector_rx())>() << "\",\"args\":[],\"name\":\"get_vector_rx\",\"id\":7},{\"ret_type\":\"void\",\"args\":[{\"type\":\"bool\",\"name\":\"circular\"}],\"name\":\"start_fifo_acquisition\",\"id\":8},{\"ret_type\":\"void\",\"args\":[],\"name\":\"stop_fifo_acquisition\",\"id\":9},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"check_fifoacq_thread\",\"id\":10}],\"class\":\"SSFifoController\",\"id\":3},{\"functions\":[{\"ret_type\":\"void\",\"args\":[{\"type\":\"std::string\",\"name\":\"sAddress\"},{\"type\":\"std::string\",\"name\":\"sPort\"}],\"name\":\"set_server_info\",\"id\":0},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"idx\"},{\"type\":\"uint32_t\",\"name\":\"buffer_address\"},{\"type\":\"uint32_t\",\"name\":\"buffer_length\"}],\"name\":\"set_descriptor_s2mm\",\"id\":1},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"idx\"},{\"type\":\"uint32_t\",\"name\":\"buffer_address\"},{\"type\":\"uint32_t\",\"name\":\"buffer_length\"}],\"name\":\"set_descriptor_mm2s\",\"id\":2},{\"ret_type\":\"void\",\"args\":[],\"name\":\"start_dma_s2mm\",\"id\":3},{\"ret_type\":\"void\",\"args\":[],\"name\":\"stop_dma_s2mm\",\"id\":4},{\"ret_type\":\"void\",\"args\":[],\"name\":\"start_dma_mm2s\",\"id\":5},{\"ret_type\":\"void\",\"args\":[],\"name\":\"stop_dma_mm2s\",\"id\":6},{\"ret_type\":\"void\",\"args\":[{\"type\":\"std::vector<uint32_t>\",\"name\":\"dac_data\"}],\"name\":\"set_mm2s_data\",\"id\":7},{\"ret_type\":\"" << get_type_str<decltype(std::declval<DmaSG>().get_s2mm_data())>() << "\",\"args\":[],\"name\":\"get_s2mm_data\",\"id\":8},{\"ret_type\":\"void\",\"args\":[{\"type\":\"bool\",\"name\":\"circular\"}],\"name\":\"start_dma_acquisition\",\"id\":9},{\"ret_type\":\"void\",\"args\":[],\"name\":\"stop_dma_acquisition\",\"id\":10},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"check_dmaacq_thread\",\"id\":11},{\"ret_type\":\"void\",\"args\":[],\"name\":\"print_dma_log\",\"id\":12}],\"class\":\"DmaSG\",\"id\":4},{\"functions\":[{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint8_t\",\"name\":\"c_select\"},{\"type\":\"uint8_t\",\"name\":\"c_pha\"},{\"type\":\"uint8_t\",\"name\":\"c_pol\"}],\"name\":\"set_params\",\"id\":0},{\"ret_type\":\"uint8_t\",\"args\":[{\"type\":\"uint16_t\",\"name\":\"addr\"},{\"type\":\"bool\",\"name\":\"debug\"}],\"name\":\"read_spi\",\"id\":1},{\"ret_type\":\"uint8_t\",\"args\":[{\"type\":\"uint16_t\",\"name\":\"addr\"},{\"type\":\"uint8_t\",\"name\":\"data\"},{\"type\":\"bool\",\"name\":\"debug\"}],\"name\":\"write_spi\",\"id\":2},{\"ret_type\":\"void\",\"args\":[],\"name\":\"sreset_spi_fifo\",\"id\":3},{\"ret_type\":\"void\",\"args\":[],\"name\":\"sreset_spi\",\"id\":4}],\"class\":\"xQSPI\",\"id\":5},{\"functions\":[{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"adcSpiInitialize\",\"id\":0},{\"ret_type\":\"uint64_t\",\"args\":[],\"name\":\"get_dna\",\"id\":1},{\"ret_type\":\"uint32_t\",\"args\":[],\"name\":\"get_fortytwo\",\"id\":2},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"val\"}],\"name\":\"set_adc_delay_inc\",\"id\":3},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"val\"}],\"name\":\"set_adc_delay_dec\",\"id\":4},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"val\"}],\"name\":\"set_adc_clear_error\",\"id\":5},{\"ret_type\":\"void\",\"args\":[{\"type\":\"uint32_t\",\"name\":\"val\"}],\"name\":\"set_gpio\",\"id\":6}],\"class\":\"TopLevelDriver\",\"id\":6}]";
    return ss.str();
}

#endif // __DRIVERS_JSON_HPP__